LN=ln -s
/* LPRSimpleProgram installs setuid root and setgid daemon */
#define LPRSimpleProgram(prog,objs,libs,dest)				@@\
build_program(prog,objs,,libs)						@@\
install_program(prog,-o root -g $(SPGRP) -m 6755,dest)

/* LPRSimpleProgram installs setgid daemon */
#define LPRGSimpleProgram(prog,objs,libs,dest)				@@\
build_program(prog,objs,,libs)						@@\
install_program(prog,-o root -g $(SPGRP) -m 2755,dest)

/* Generate the s_xxx.o files */
#define make_s_o(src)							@@\
s_/**/src.c:								@@\
	rm -f s_/**/src.c						@@\
	$(LN) src.c s_/**/src.c						@@\
SpecialObject(s_/**/src.o,s_/**/src.c,-DSERVER)				@@\
clean:: ; rm -f s_/**/src.c						@@\
s_/**/src.o: lp.h lp.local.h

/* Generate the o_xxx.o file */
#define make_o_o(src)							@@\
o_/**/src.c:								@@\
	rm -f o_/**/src.c						@@\
	$(LN) src.c o_/**/src.c						@@\
SpecialObject(o_/**/src.o,o_/**/src.c,-D$(OPERATOR))			@@\
clean:: ; rm -f o_/**/src.c						@@\
o_/**/src.o: lp.h lp.local.h

